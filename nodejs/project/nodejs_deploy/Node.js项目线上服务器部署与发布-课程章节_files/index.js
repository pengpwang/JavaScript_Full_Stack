define("class/index",["/static/module/pay/common/js/cookie.js","/static/lib/html2canvas/html2canvas.min.js","/static/lib/scroll/scroll.js"],function(t,a){function i(){require(["common/js/player"],function(t){$("#js-video-content").show(),t.init({id:"video-container",url:$("#js-video-content").data("vurl"),videotitile:document.title,width:"800",height:"490",image:$("#js-video-content").data("purl"),events:{onReady:function(){w=(new Date).getTime(),this.play()},onComplete:function(){$("#js-video-close").click()}}})})}function e(t,a){var i=t.match(/\.com\/(\S*)\./),e="";t.indexOf("//szimg.")>-1?e="szimg/":t.indexOf("//climg.")>-1&&(e="climg/");var s=i?"https://imgapi.imooc.com/"+e+i[1]+".jpg?format=base64":"";s&&$.ajax({url:s,method:"get",success:function(t){t&&"string"==typeof t&&t.indexOf("base64")>-1&&a&&a(t)}})}function s(){var t=navigator.userAgent,a=t.indexOf("Opera")>-1;return a?"Opera":t.indexOf("Firefox")>-1?"FF":t.indexOf("Chrome")>-1?"Chrome":t.indexOf("Safari")>-1?"Safari":(window.ActiveXObject||"ActiveXObject"in window)&&(/MSIE \d+\.\d+/.test(t)||t.match(/Trident/)&&t.match(/rv/))?"IE":void 0}function o(){var t="png",a=$("#canvas-image img").attr("src"),i=function(t){t=t.toLowerCase().replace(/jpg/i,"jpeg");var a=t.match(/png|jpeg|bmp|gif/)[0];return"image/"+a};a=a.replace(i(t),"image/octet-stream");var e="poster."+t;"IE"==E?n(e,a):r(a,e)}function n(t,a){var i=(document.createElement("a"),c(a));window.navigator.msSaveOrOpenBlob(i,t)}function c(t){for(var a=t.split(";base64,"),i=a[0].split(":")[1],e=window.atob(a[1]),s=e.length,o=new Uint8Array(s),n=0;s>n;++n)o[n]=e.charCodeAt(n);return new Blob([o],{type:i})}function r(t,a){var i=document.createElementNS("http://www.w3.org/1999/xhtml","a");i.href=t,i.download=a;var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(e)}function d(t){var i=t,e=(window.getComputedStyle(i),i.offsetWidth),s=i.offsetHeight,o=document.createElement("canvas"),n=2;o.width=e*n,o.height=s*n,o.style.width=e+"px",o.style.height=s+"px";var c=o.getContext("2d");c.scale(n,n);var r={scale:2,canvas:o,width:e,height:s,logging:!0,useCORS:!0};a(i,r).then(function(t){var a=t.getContext("2d");a.mozImageSmoothingEnabled=!1,a.webkitImageSmoothingEnabled=!1,a.msImageSmoothingEnabled=!1,a.imageSmoothingEnabled=!1;var i=t.toDataURL("image/png"),e=new Image;e.src=i,$(e).css({width:"375px",height:"667px"}),e.onload=function(){$("#canvas-image").append(e),t.width=t.height=0}})}function l(){this.item=$(".combine-tab .box .item"),this.lBtn=$(".js-left-package"),this.rBtn=$(".js-right-package"),this.len=0,this.maxLen=6,this.left=0,this.maxLeft=0,this.perwidth=86,this.init=function(){this.len=$(this.item).length,this.maxLeft=this.len-this.maxLen},this.move=function(){$(this.item).css({left:"-"+this.left*this.perwidth+"px"})},this.toRight=function(){var t=this.len-this.left-this.maxLen;t>this.maxLen?(this.left+=this.maxLen,$(this.lBtn).removeClass("dis")):t>0?(this.left+=t,$(this.rBtn).addClass("dis"),$(this.lBtn).removeClass("dis")):$(this.rBtn).addClass("dis"),this.move()},this.toLeft=function(){this.left>this.maxLen?(this.left-=this.maxLen,$(this.rBtn).removeClass("dis")):this.left>0?(this.left=0,$(this.rBtn).removeClass("dis"),$(this.lBtn).addClass("dis")):$(this.lBtn).addClass("dis"),this.move()}}var p=navigator.userAgent.toLowerCase(),u=!!p.match(/ipad/i),h=0;if(u)if(-1==location.href.toLocaleLowerCase().indexOf("app=1"))$("#header").show(),$(".path").show(),$(".extra").show(),$(".price-box").show(),$(".course-class-infos").find(".btnwarp").css("display","inline-block").show(),$(".recommendcourse").show(),$("#J_GotoTop").show(),$(".info-recommendcourse").css({"padding-left":"20px","box-sizing":"border-box"}).show(),$("#footer").show(),$(".js-comp-tab").find(".comp-tab-item").eq(3).show(),$(".class-tab-pannel").width(730),$(".class-tab-pannel .outline-list").find(".chapter-ul").width(730),$(".course-class-infos").find(".w").css("height","544px"),$(".course-class-infos").find(".path").css("margin-left","50px"),$(".course-class-infos").find(".extra").css("margin-right","50px");else{var m=$(".js-comp-tab").find(".comp-tab-item");m.each(function(){var t=$(this).find("a").attr("href");$(this).find("a").attr("href",t+"?app=1")})}var v=function(t){var a,i={blueArr:["CSS3","jquery","sassless","python","mysql","大数据","cloudcomputing","photoshop"],orangeArr:["html","html5","webapp","fetool"],greenArr:["nodejs","vuejs","C","C#","android","mongodb","test"],cyanArr:["bootstrap","Reactjs","C puls puls","Go","ios","Unity 3D","Cocos2d-x","maya"],purpleArr:["javascript","php","linux","premiere","ZBrush"],redArr:["angularjs","java","ruby","Oracle","SQL Server"]};return $.each(i,function(e){$.each(i[e],function(s){t==i[e][s]&&(a=e)})}),"blueArr"==a?"blue":"orangeArr"==a?"orange":"greenArr"==a?"green":"cyanArr"==a?"cyan":"purpleArr"==a?"purple":"redArr"==a?"red":"red"},g=function(t){for(var a='<h3 class="box-tit box-class-tit">课前必学</h3>			    	<div class="free-course-list clearfix">',i=0;i<t.length;i++){var e=t[i];if(a+='<div class="index-card-container course-card-container container ">					<a target="_blank" class="course-card" href="https://www.imooc.com/learn/'+e.id+'" target="_blank">',"undefinded"!=typeof e.skill&&0!=e.skill.length){var s=e.skill,o=s[0],n=o.marking;if(s){var c=v(n);a+='<div class="course-card-top cart-color '+c+'">';var r="";$.each(s,function(t){r+="<span>"+s[t].name+"</span>"}),a+=r+"</div>"}}var d='<div class="course-card-content">									<h3 class="course-card-name">'+e.name+'</h3>									<p title="'+e.short_description+'">'+e.short_description+'</p>									<div class="clearfix course-card-bottom">										<div class="course-card-info">											'+e.easy_name+"<span>·</span>"+e.numbers+"人在学										</div>									</div>								</div>							</a>";a+=d;var l="";e.learn_rate&&-1!=e.learn_rate&&(l=100==e.learn_rate?'<div class="course-card-learning"><i class="sz-done2"></i></div>':'<div class="course-card-learning">'+e.learn_rate+"%</div>"),a+=l;var p="";p="undefined"!=typeof e.background_pic&&null!=e.background_pic?'<div class="course-card-bk">											<img src="https://www.imooc.com/courseimg/s/'+e.background_pic+'_s.jpg" />										</div>':'<div class="course-card-bk">											<img src="https://www.imooc.com/courseimg/s/cover015_s.jpg" />										</div>',a+=p+"</div>"}a+="</div>",$(".js-prelearn").html(a)},f=function(){$.ajax({url:"/class/ajaxprelearn",dataType:"json",data:{cid:$(".js-prelearn").data("id")}}).done(function(t){"0"==t.result&&t.data.length>0&&g(t.data)})};f();var b=function(t){for(var a='<h2>本课程已加入以下学习路线</h2>                    <div class="listview">',i=0;i<t.length;i++){var e=t[i];a+='<a href="/learningpath/route?pathId='+e.id+'"  data-id=" '+e.id+'" data-title="'+e.title+'" target="_blank" class="box js-path-zhuge">                                <div class="imgcontainer">                                    <div class="img-up" style="background-image:url('+e.coverPic+');"></div>                                    <div class="img-mid" style="background-image:url('+e.coverPic+');"></div>                                    <div class="img-down" style="background-image:url('+e.coverPic+');"></div>                                </div>                                <div class="courseitem">                                    <h2>'+e.title+"</h2>                                    <p>"+e.shortDescription+'</p>                                    <div class="pathinfo">                                        <span>'+e.steps+"步骤</span>                                        <i>·</i>                                        <span>"+e.courses+'门课</span>                                        <span class="collectnum"><i class="sz-star"></i>'+e.collects+"人收藏</span>                                    </div>                                </div>                                </a>"}a+="</div>",$("#js-load-LearnPath").html(a)};$("body").on("click",".js-path-zhuge",function(){zhuge.track("ClickPathCoding",{Platform:"web",Name:$(this).attr("data-title"),CID:$(this).attr("data-id"),Source:"实战详情",SourceID:$("#js-load-LearnPath").data("id")})});var j=function(){$.ajax({url:"/learningpath/relatedpath",dataType:"json",data:{courseId:$("#js-load-LearnPath").data("id")}}).done(function(t){"0"==t.result&&t.data.length>0&&b(t.data)})};j(),$(document).on(".js-click-zhuge","click",function(){var t=$(this).data("name"),a=$(this).data("id");zhuge.track("ClickPathCoding",{Platform:"web",Category:"路线",Name:t,CID:a,Source:"实战详情",SourceID:cid})});var w=0,y=0,x=function(){var t;w?(y=(new Date).getTime(),t=(y-w)/1e3):t=0,w=0,y=0,zhuge.track("GuideCourse",{Platform:"web",Category:"实战",CID:window.GlobalConf.course,PlayTime:t})};$("#js-video-close").click(function(){x(),$("#js-video-content").hide(),$("#video-container").empty()}),$(".js-old-video").on("click",function(){i()}),$(".js-buy-trigger").on("click",function(){if(!OP_CONFIG.isLogin)return void $("#js-signin-btn").trigger("click");if(!$(this).hasClass("disabled")&&!$(this).is(".unopen")){var t=$(this).attr("data-cid"),a=$(this).attr("data-pay"),i="/learn/list/";window.location.href="3"==a?i+t+".html":"//order.imooc.com/pay/buynow?type_id="+t+"&type=1"}});var k=$(".js-fixed");$(window).on("scroll",function(){var t=$(window).scrollTop(),a=Number($(".js-comp-tab").offset().top)+90;t>a&&!u?k.show():k.hide()});var C=function(t){var a=$(".js-endcart").offset(),i=$("<i class='parabola sz-add-shopping-cart' style='font-size: 40px; color: #b5b9bc;'></i>"),e=$(t).offset().left,s=$(t).offset().top-$(window).scrollTop();i.fly({start:{left:e,top:s},end:{left:a.left,top:a.top-$(window).scrollTop(),width:20,height:20,callback:function(){$(".parabola").remove();var t=parseInt($(".js-cart-num").attr("data-cartnum")),a=parseInt($(".js-cart-num").attr("data-ordernum"));$(".js-cart-num").html(parseInt(t+1+a)).attr("data-cartnum",parseInt(t+1)).show(),$(".js-cart-num").attr("data-prevnum",parseInt(t))}}});$(".js-cart-num").html()},_={modal:"",bind:function(){$(document).on("click",".js-btn-close",function(){modal.hide(),_.clearCss()})},show:function(t,a){this.writeCss();var i='<div class="alertText">'+t+'</div><div class="tip-buttons"><div class="butn btn-close js-btn-close">继续逛逛</div><a class="butn btn-go" href="//order.imooc.com/pay/cart"> 去购物车结算</a></div>';7001==a&&(i='<div class="alertText">'+t+'</div><div class="tip-buttons" style="text-align:center;"><div class="butn btn-close js-btn-close" style="margin-right:0 !important;">继续逛逛</div></div>'),modal=$.dialog(i,{width:320,height:184,modal:!0}),this.bind()},writeCss:function(){var t=[".alertText{text-align:center;font-size:16px;color: #1C1F21;font-weight:bold;}",".tip-buttons{padding-top:60px;padding-bottom:0}",".butn{cursor:pointer;display: inline-block;width:112px;height:36px;line-height:36px;text-align:center;}",".btn-close{background: rgba(84,92,99,0.10);border-radius: 18px;margin-right:30px;font-size: 14px;color: #545C63;}",".btn-go{background: #F20D0D;border-radius: 18px;font-size: 14px;color: #FFFFFF!important;}"],a=document.createElement("style");a.type="text/css",a.id="addCarAlertStyle",a.innerText=t.join(""),document.head.appendChild(a)},clearCss:function(){document.head.removeChild(document.getElementById("addCarAlertStyle"))}},T=!1;$("body").on("click",".js-addcart",function(t){if(1!=OP_CONFIG.isLogin)return void $("#js-signin-btn").trigger("click");var a=this;if(!T){T=!0;var i=$(this).attr("data-cid"),e=$(this).attr("data-type"),s={type_id:i,type:e};return $.ajax({url:"//order.imooc.com/pay/addtocart",dataType:"jsonp",data:s,jsonp:"jsonpcallback",success:function(i){"0"==i.result?(_cartFlag=1,C(a,t)):"7001"==i.result?_.show(i.msg,i.result):_.show(i.msg,i.result),T=!1}}),t.preventDefault(),!1}}),$("#before-buy-modal").on("click",".go-pay-btn",function(){if("正在创建订单..."!=$(this).html()){var t=$(this).attr("data-href");$(this).html("正在创建订单..."),window.location.href=t}}),isLogin&&$(".js-buy-trigger").length&&setTimeout(function(){$.get("/class/stay30s",{cid:$(".js-buy-trigger").data("cid")})},3e4);var I,L=function(t){var a=$.trim($(".js-inputcont").val()),i="";if(t.data_adv.length>0){for(var e=t.data_adv,s=$(".js-load-prelist").data("cid"),i='<ul class="prebox question-content">',o=0;o<e.length;o++){{e[o]}i+='<li><div class="left-hand fl">',i+="1"==e[o].mypraise?'<div class="hand-block js-praise current" data-advid="'+e[o].id+'">':'<div class="hand-block js-praise" data-advid="'+e[o].id+'">',i+='<i class="sz-thumb"></i><br><span class="hand-number">'+e[o].praise+"</span>",i+="</div></div>",i+='<div class="mid-detail fl">',i+='<h3 class="question-title">',i+='<a href="/class/consult/detail/'+e[o].id+'.html" title="'+e[o].content+'">'+e[o].content+"</a></h3>",i+='<div class="answer-content">',i+="<p>"+e[o].answer+"</p></div></div> ",i+="</li>"}i+="</ul>",t.total>6&&(i+=isMarketingPage?'<div class="more-question">':'<div class="w more-question">',i+='<a href="/class/consult/'+s+'.html" target="_blank">',i+="查看全部<span> "+t.total+" </span>条已回复的咨询</a></div>")}else 0==t.data_adv.length&&(i+=""==a?'<div class="question-null">暂无任何课前咨询问题</div>':'<div class="question-null"> 抱歉，没有找到答案，您可以点击“提问”提交此条提问给官方客服，我们会及时回复。</div>');$(".js-load-prelist").html(i),$(document).find(".comp-loading").hide()},O=null,D=function(t){O&&clearTimeout(O),O=setTimeout(function(){t=$.trim($(".js-inputcont").val());var a=$(".js-load-prelist").data("cid");$.ajax({url:"/class/ajaxconsultsearch",dataType:"json",data:{cid:a,page:1,pagesize:6,words:t}}).done(function(t){"0"==t.result&&L(t.data)})},500)};D(),$(".js-inputcont").on("keyup",function(){O&&clearTimeout(O),D()}),$(document).on("click",".js-praise",function(){if(!OP_CONFIG.isLogin)return void $("#js-signin-btn").trigger("click");var t=$(this),a=t.data("advid"),i=$(this).find(".hand-number");t.hasClass("current")&&$.prompt("亲已经点过赞了，不能重复点哟！",{icon:"success"}),$.ajax({url:"/class/ajaxpraiseconsult",type:"post",dataType:"json",data:{advid:a}}).done(function(a){0==a.result&&(t.addClass("current"),i.html(parseInt(i.text())+1),$.prompt(a.msg,{icon:"success"}))})}),$(".js-question-btn").on("click",function(){if(!OP_CONFIG.isLogin)return void $("#js-signin-btn").trigger("click");var t=$(this).data("cid"),a=$.trim($(".js-inputcont").val());return a.length<5?void $.prompt("最少输入5个字符",{icon:"error",timeout:1e3}):a.length>50?void $.prompt("最多输入50个字符",{icon:"error",timeout:1e3}):void $.confirm("您确认提交此问题吗？",{callback:function(){h||(h=1,$.ajax({url:"/class/ajaxdoconsult",type:"post",dataType:"json",data:{cid:t,content:a}}).done(function(t){0==t.result?$.prompt("问题提交成功，回答会以通知形式告知您",{icon:"success",callback:function(){I=$(".js-inputcont").val(""),D(I)}}):$.prompt(t.msg,{icon:"error",timeout:1e3}),h=0}))}})});var S=function(t,a){var i={M:0,D:0,d:0,h:0,m:0,s:0},e=new Date(1e3*a);i.d=Math.floor(t/86400);var s=Math.floor(t%86400/3600),o=Math.floor(t%86400%3600/60),n=Math.floor(t%86400%3600%60);return i.h=10>s?"0"+s:s,i.m=10>o?"0"+o:o,i.s=10>n?"0"+n:n,i.M=e.getMonth()+1,i.D=e.getDate(),i},F=function(t,a,i,e){t--;var s=S(t,a);$(i).hasClass("notstart")?$(".js-sale-timer").html(s.d>0?"距离开课还有： <span>"+s.d+'天</span><i class="first">:</i><span>'+s.h+"</span><i>:</i><span>"+s.m+"</span><i>:</i><span>"+s.s+"</span>":"距离开课还有： <span>"+s.h+"</span><i>:</i><span>"+s.m+"</span><i>:</i><span>"+s.s+"</span>"):s.d>=3?($(i).html("截止至"+s.M+"月"+s.D+"日"),$(".js-sale-timer2").html("截止至"+s.M+"月"+s.D+"日")):s.d>0?($(i).html("<span>"+s.d+'天</span><i class="first">:</i><span>'+s.h+"</span><i>:</i><span>"+s.m+"</span><i>:</i><span>"+s.s+"</span>"),$(".js-sale-timer2").html("还剩 <span>"+s.d+'天</span><i class="first">:</i><span>'+s.h+"</span><i>:</i><span>"+s.m+"</span><i>:</i><span>"+s.s+"</span>")):($(i).html("<span>"+s.h+"</span><i>:</i><span>"+s.m+"</span><i>:</i><span>"+s.s+"</span>"),$(".js-sale-timer2").html("还剩 <span>"+s.h+"</span><i>:</i><span>"+s.m+"</span><i>:</i><span>"+s.s+"</span>")),t>0?setTimeout(function(){F(t,a,i)},1e3):e&&e()};$(function(){var t=$(".js-sale-timer").data("timer"),a=$(".js-sale-timer").data("endtime");t&&a&&F(t,a,$(".js-sale-timer"),function(){window.location.reload()})});var P=!1;$("body").on("click",".js-course-collect",function(){if(!OP_CONFIG.isLogin)return $("#js-signin-btn").trigger("click"),!1;if(P)return!1;P=!0;var t={course_id:$(this).attr("data-cid"),type:$(this).data("type")};return $.post("/user/coursefollow",t,function(a){if(P=!1,0==a.result){var i=1==t.type?"取消收藏成功":"收藏成功";$.prompt(i,{icon:"success"}),0==t.type}else $.prompt(a.msg,{icon:"error"})},"json"),!1}),$(function(t){t("#content").slimScroll({size:"8px",height:"312px",color:"#fff",opacity:1,distance:"0px",alwaysVisible:!0,borderRadius:"8px"}),t(document).ready(function(){t(".aaa").height()>312&&t("#content").css("display","block")}),t(".scrollConTeacher").slimScroll({size:"8px",height:"336px",color:"#D9DDE1",opacity:1,distance:"0px",alwaysVisible:!0,borderRadius:"8px"}),t(".teacher").hover(function(){var a;a=setTimeout(function(){t(".detail-white-box").show(),t(".jiao").show(),t(".video-dark-box").hide()},300)},function(){timeoutShowBlack=setTimeout(function(){t(".detail-white-box").hide(),t(".jiao").hide(),t(".video-dark-box").show()},300)}),t(".detail-white-box").hover(function(){clearTimeout(timeoutShowBlack)},function(){timeoutShowBlack=setTimeout(function(){t(".detail-white-box").hide(),t(".jiao").hide(),t(".video-dark-box").show()},300)}),t(".comp-tab-item").hover(function(){t(this).append('<div class="borderLine"></div>')},function(){t(this).find(".borderLine").eq(0).remove()});var a=t(".introduce").attr("data-text");t(".introduce").html(unescapeHTML(a))});var z=function(t){var a="http://www.imooc.com/act/bargain/mybreaks/detail?u="+t.uid+"&t="+t.type+"&ti="+t.type_id+"&bargain_id="+t.bargain_id+"&isqr=1",i='<div class="share-link"><div class="link-item"><div class="link-content"><div class="qr-code" id="phonecode" data-srcs="'+a+'"></div></div><p>手机端扫码分享给好友</p></div><div class="link-item"><div class="link-content"><div class="link-img"><img src="/static/module/index/img/modal-computer.png"></div><button class="modal-btn js-get-url">复制链接</button></div><p>电脑端复制分享给好友</p></div></div><a href="//www.imooc.com/act/share"><img src="/static/module/index/img/pop-bg.png"></a><input id="copy" type="text" style="width:1px; height:1px; overflow:hidden;">';return i};$(".close-enter").click(function(){$("#bargain_enter").remove()}),$(".js-course-cut").click(function(){var t=$(this);if(t.hasClass("loaded"))return!1;t.addClass("loaded");var a=$(this).data("uid");if(a=a.split("-"),0==a[0])$("#js-signin-btn").trigger("click"),t.removeClass("loaded");else if(0==a[3])window.open("//www.imooc.com/act/share"),t.removeClass("loaded");else{var i={uid:a[1],type:1,type_id:a[2]};$.ajax({url:"//coding.imooc.com/wap/bargainurl",type:"post",dataType:"json",data:i,success:function(){$.dialog(z(i),{title:" ",width:540,height:304,modal:!0,callback:function(){t.removeClass("loaded")}});new QRCode("phonecode",{text:$("#phonecode").data("srcs"),width:170,height:170,colorDark:"#000",colorLight:"#FFF",correctLevel:QRCode.CorrectLevel.H});$(".moco-modal-dialog").css("padding",0),e(i)}})}var e=function(t){$(".js-get-url").click(function(){$.ajax({async:!1,url:"//coding.imooc.com/wap/bargainadd",type:"post",dataType:"json",data:t,success:function(a){if(0==a.result){var i="http://www.imooc.com/act/bargain/mybreaks/detail?u="+t.uid+"&t="+t.type+"&ti="+t.type_id+"&bargain_id="+a.data.bargain_id,e=document.getElementById("copy");e.value=i,e.focus(),e.select();var s=document.execCommand("cut");e.blur(),s?($(".moco-modal-layer").hide(),t.isreset?$.dialog('<p style="padding:20px;">复制成功！快去分享给好友砍价吧~</p>',{timeout:1500,modal:!0,callback:function(){window.location.reload()}}):$.dialog('<p style="padding:20px;">复制成功！快去分享给好友砍价吧~</p>',{timeout:1500,modal:!0}),setTimeout(function(){$(".js-modal-close").trigger("click")},1600)):$.dialog('<p style="padding:20px;">复制失败！请重试！</p>',{timeout:500,modal:!0})}else $.dialog('<p style="padding:20px;">'+a.msg+"</p>",{timeout:1500,modal:!0})}})})}}),$(".js-share-present").click(function(){if(!isLogin)return void $("#js-signin-btn").trigger("click");var t,a,i=$(this).data("id"),e=$(this).data("type");$.ajax({url:"/api/shorturl",type:"post",dataType:"json",data:{obj_id:i,obj_type:e,uid:OP_CONFIG.userInfo.uid},success:function(s){return 0!=s.result?($.prompt(s.msg||"通信错误，请稍后再试！",1500),void(canClickDist=!0)):(t=s.data.short_url,a="https://m.imooc.com/distribution/poster?obj_id="+i+"&type="+e+"&uid="+OP_CONFIG.userInfo.uid,$("#wx_qrcode").empty().qrcode({text:a,width:166,height:165,colorDark:"#000",colorLight:"#FFF",correctLevel:0}),$("#modal-dist-share").modal({width:"556px",zIndex:100,opacity:.5}),$(".js-dist-content").val(t),$(".js-poster").attr("data-type",e),$(".js-poster").attr("data-id",i),window.dist_url=t,canClickDist=!0,void 0)},error:function(t){$.prompt(t.msg||"通信错误，请稍后再试！",1500),canClickDist=!0}})}),$(".js-close-distShare").click(function(){$("#modal-dist-share").hide(),$(".jquery-modal").hide()}),$(document).on("click",".js-copy-dist",function(){$("input.js-dist-content").select();var t=document.getElementsByClassName("js-dist-content")[0];$(t).attr("type","text"),t.select(),document.execCommand("copy"),$.prompt("复制成功！",{timeout:2e3})});var q;isLogin&&$.ajax({url:"//www.imooc.com/u/userpic",type:"get",dataType:"jsonp",jsonp:"jsonpcallback"}).done(function(t){0==t.result&&$(".js-poster-avator img").attr("src",t.data.img)}),isLogin&&""!=posterPic&&e(posterPic,function(t){$(".custom-img-bg").attr("src",t)}),$(document).on("click",".js-poster",function(){var t=$(this).data("id");$("#modal-dist-share").hide(),$("#modal-dist-poster").modal({zIndex:101,opacity:.5,clickClose:!0}),$("#canvas-image img").length?($("#canvas-image").show(),$("#modal-dist-poster").css({top:"50%",marginTop:"-271px"})):$.ajax({url:"/api/shorturl",dataType:"json",type:"post",data:"obj_id="+t+"&obj_type=1",success:function(t){if(0==t.result){q=t.data.short_url;{new QRCode("qrcode",{render:"canvas",text:t.data.short_url,width:$(".two-code").width(),height:$(".two-code").height(),colorDark:"#000",colorLight:"#FFF",correctLevel:QRCode.CorrectLevel.H})}}d($("#canvas-contnet")[0],0)}})});var E=s();"IE"==E&&($(".js-poster").hide(),$(".js-hide-head").hide()),$(document).on("click",".js-close-poster",function(){$("#modal-dist-poster").hide(),$(".jquery-modal").hide(),$("#canvas-image").hide()}),$(document).on("click",".js-down-poster",function(){o()});var A=new l;A.init(),$(".js-left-package").on("click",function(){$(this).hasClass("dis")||A.toLeft()}),$(".js-right-package").on("click",function(){$(this).hasClass("dis")||A.toRight()});var B,M;$(".js-package-btn").hover(function(){var t=$(this),a=t.index();B=setTimeout(function(){$(".js-package-box").show();var i=$(".js-package-box .js-package-combine:eq("+a+")");i.show(),t.hasClass("new")&&newPackageCombineScroll(i)},100)},function(){M=setTimeout(function(){$(".js-package-box").hide(),$(".js-package-box .js-package-combine").hide()},100)}),$(".js-package-box").hover(function(){clearTimeout(M),B=setTimeout(function(){$(".js-package-box").show(),$(this).show()},100)},function(){M=setTimeout(function(){$(".js-package-box").hide(),$(".js-package-box .js-package-combine").hide()},100)});var N=function(){$.ajax({url:"/class/ajaxcourserecommend",dataType:"json",data:{cid:$(".js-recom-courseb").data("id")},success:function(t){var a="",i=t.data;"0"==t.result&&t.data.length>0&&(a+='<h2>Java进阶课程推荐</h2>                                <div class="box">',i.forEach(function(t){var i="";t.easy_type&&1==t.easy_type?i="入门":2==t.easy_type?i="初级":3==t.easy_type?i="中级":4==t.easy_type?i="高级":5==t.easy_type&&(i="专业");var e="";if(t.skills&&t.skills.length>0){var s=t.skills;e+='<div class="mark-box">',s.forEach(function(t){e+='<span class="mark">· '+t+"</span>"}),e+="</div>"}a+='<div class="item">                                    <a href="//coding.imooc.com/class/'+t.id+'.html">                                        <div class="c-img" style="background-image:url('+t.pic_url+')">                                            '+e+'                                        </div>                                        <h4 class="c-title">'+t.name+'</h4>                                        <p class="c-desc">'+t.short_description+'</p>                                        <div class="c-info">                                            <span class="c-teacher">讲师：'+t.teacher_name+'</span>                                            <span class="c-level">'+i+'</span>                                            <span class="c-numbers">                                                <i class="imv2-set-sns"></i>'+t.numbers+"                                            </span>                                        </div>                                    </a>                                </div>"}),a+="</div>"),$(".js-recom-courseb").html(a)}})};isMarketingPage&&N(),$(".js-teacher-hover").hover(function(){$(".js-teacher-show").show()},function(){$(".js-teacher-show").hide()});var R=function(t,a){t&&$(t).each(function(t,i){if($(i).html().length>a){var e=$(i).html().slice(0,parseInt(a));$(i).html(e+"...")}})};R($(".js-course-highpoint"),6),$(".js-tab-item").on("click",function(){var t=$(this).attr("data-num");$(this).addClass("active").siblings().removeClass("active"),$(".js-tab-content"+t).show().siblings().hide()}),$(document).on("click",".js-checkme",function(){zhuge.track("PurchaseInquiry",{Platform:"PC",Category:"实战",Name:_name,CID:_cid,Price:_pirce,page:"详情页",TriggerType:"主动触发"}),$(".js-qrcode-modal").show()}),$(document).on("click",".js-close",function(){$(".js-qrcode-modal").hide()});var G=function(t,a){var i,e=864e5,s=t-a;if(3*e>=s){var o=parseInt(s/e);i=s%e;var n=parseInt(i/36e5);i%=36e5;var c=parseInt(i/6e4);i%=6e4;var r=parseInt(i/1e3);i%=1e3,n=n>9?n:"0"+n,c=c>9?c:"0"+c,r=r>9?r:"0"+r;var d='<div class="desc">距离活动结束</div>';o&&(d+='<div class="time-box day">'+o+"天</div>"),d+='<div class="time-box">'+n+'</div><div class="time-box">'+c+'</div><div class="time-box">'+r+"</div>",$(".js-timeout-bigactivity").html(d)}else $(".js-timeout-bigactivity").html("");s>=1e3?setTimeout(function(){G(t,a+1e3)},1e3):($(".js-timeout-bigactivity").html(""),$(".fixed-wrap").removeClass("bigactivity"),$(".js-btns").html('<a href="javascript:;" class="js-addcart red-btn"                 data-cid="'+_cid+'" data-type="1">                加购物车            </a>'))};if($(".fixed-wrap").hasClass("bigactivity")){var Q=1e3*$(".js-timeout-bigactivity").data("endtime"),H=1e3*$(".js-timeout-bigactivity").data("time");Q>H&&G(Q,H)}});